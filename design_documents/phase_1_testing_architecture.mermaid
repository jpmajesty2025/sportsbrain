graph TB
    subgraph "Phase 1 Testing Architecture (2-Week Capstone)"
        subgraph "Unit Tests (60% - Core Logic)"
            UT1[Model Testing<br/>âœ… User, Player, Game models<br/>âœ… Basic relationships<br/>âœ… Phase 1A enhancements<br/>âœ… Data validation]
            UT2[API Testing<br/>âœ… Health check endpoints<br/>âœ… Authentication flow<br/>âœ… CRUD operations<br/>âœ… Error handling]
            UT3[Agent Testing<br/>âœ… Coordinator patterns<br/>âœ… Basic workflows<br/>âœ… Error handling<br/>ğŸ”„ Single vertical slice]
        end
        
        subgraph "Integration Tests (35% - Deployment Focus)"
            IT1[Deployment Verification<br/>âœ… All 4 services connected<br/>âœ… Database health checks<br/>âœ… Redis connectivity<br/>âœ… API accessibility]
            IT2[CI/CD Integration<br/>âœ… GitHub Actions pipeline<br/>âœ… Docker image builds<br/>âœ… Railway deployment<br/>âœ… Automated verification]
            IT3[Performance Validation<br/>âœ… Response time testing<br/>âœ… CORS configuration<br/>âœ… Service orchestration<br/>âœ… Health monitoring]
        end
        
        subgraph "E2E Tests (5% - Critical Paths)"
            E2E1[Production Health<br/>âœ… Service status validation<br/>âœ… Real deployment testing<br/>âœ… Manual verification tools<br/>ğŸ”„ Basic user journey]
        end
    end
    
    subgraph "Phase 1 Test Data (Realistic Scope)"
        BASIC[Basic Test Data<br/>âœ… Sample users & players<br/>âœ… Authentication fixtures<br/>âœ… Health check scenarios<br/>âœ… Mock agent responses]
        DEPLOY[Deployment Data<br/>âœ… Service connectivity tests<br/>âœ… Performance benchmarks<br/>âœ… Error scenarios<br/>âœ… Configuration validation]
    end
    
    subgraph "Phase 1 CI/CD Pipeline (GitHub Actions)"
        BUILD[Build Stage<br/>âœ… Backend tests (pytest)<br/>âœ… Frontend tests (npm)<br/>âœ… Docker image builds<br/>âœ… Coverage reporting]
        DEPLOY_STAGE[Deploy Stage<br/>âœ… Push to Docker Hub<br/>âœ… Railway deployment<br/>âœ… Database migrations<br/>âœ… Service verification]
        VERIFY[Verification Stage<br/>âœ… Health check validation<br/>âœ… Response time testing<br/>âœ… Service connectivity<br/>âœ… Error handling]
    end
    
    subgraph "Phase 1 Quality Gates"
        COV[Coverage Gate<br/>âœ… >70% test coverage<br/>âœ… Core business logic<br/>âœ… API endpoints<br/>âœ… Model validation]
        PERF[Performance Gate<br/>âœ… <3s response time<br/>âœ… Service health checks<br/>âœ… Database connectivity<br/>âœ… Error response times]
        DEPLOY_HEALTH[Deployment Gate<br/>âœ… All services running<br/>âœ… Health endpoints responding<br/>âœ… Database migrations applied<br/>âœ… Manual verification passed]
    end
    
    subgraph "Phase 1 Testing Tools (Current Stack)"
        PYTEST[pytest + extensions<br/>âœ… pytest==7.4.3<br/>âœ… pytest-asyncio<br/>âœ… pytest-cov<br/>âœ… pytest-mock]
        HTTP[HTTP Testing<br/>âœ… httpx for FastAPI<br/>âœ… requests for deployment<br/>âœ… aiohttp for async<br/>âœ… TestClient integration]
        MANUAL[Manual Testing<br/>âœ… test_deployment_manual.py<br/>âœ… Interactive verification<br/>âœ… Health check scripts<br/>âœ… Performance validation]
    end
    
    subgraph "Phase 1 Vertical Slice Testing (Choose One)"
        COMMUNITY[Community Intelligence Slice<br/>ğŸ”„ Basic sentiment models<br/>ğŸ”„ Reddit/Twitter stubs<br/>ğŸ”„ Expert consensus mock<br/>ğŸ”„ Social proof generation]
        PERSONAL[Personalization Slice<br/>ğŸ”„ User preference models<br/>ğŸ”„ Decision tracking<br/>ğŸ”„ Basic recommendation<br/>ğŸ”„ Learning simulation]
    end
    
    subgraph "Future Phase 2+ Testing (Not Phase 1)"
        FUTURE1[Advanced Features<br/>âŒ Complex sentiment analysis<br/>âŒ Real API integrations<br/>âŒ Mobile optimizations<br/>âŒ Advanced personalization]
        FUTURE2[Enterprise Testing<br/>âŒ Load testing<br/>âŒ Security testing<br/>âŒ A/B testing framework<br/>âŒ Advanced monitoring]
    end
    
    %% Phase 1 Test Flow
    UT1 --> IT1
    UT2 --> IT1
    UT3 --> IT2
    
    IT1 --> E2E1
    IT2 --> E2E1
    IT3 --> E2E1
    
    %% Data Flow
    BASIC --> UT1
    BASIC --> UT2
    DEPLOY --> IT1
    
    %% CI/CD Flow
    BUILD --> DEPLOY_STAGE
    DEPLOY_STAGE --> VERIFY
    
    %% Quality Gates
    UT1 --> COV
    IT3 --> PERF
    VERIFY --> DEPLOY_HEALTH
    
    %% Tool Integration
    PYTEST --> UT1
    PYTEST --> UT2
    HTTP --> IT1
    MANUAL --> E2E1
    
    %% Vertical Slice Integration (Choose One)
    COMMUNITY --> UT3
    PERSONAL --> UT3
    
    %% Future Evolution (Dotted lines)
    E2E1 -.-> FUTURE1
    IT2 -.-> FUTURE2
    
    %% Styling for Phase 1 Focus
    classDef phase1Style fill:#e8f5e8,stroke:#2e7d32,stroke-width:3px
    classDef implementedStyle fill:#c8e6c9,stroke:#4caf50,stroke-width:2px
    classDef plannedStyle fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    classDef futureStyle fill:#ffebee,stroke:#f44336,stroke-width:1px,stroke-dasharray: 5 5
    
    class UT1,UT2,UT3,IT1,IT2,IT3,E2E1 phase1Style
    class BUILD,DEPLOY_STAGE,VERIFY,COV,PERF,DEPLOY_HEALTH implementedStyle
    class COMMUNITY,PERSONAL plannedStyle
    class FUTURE1,FUTURE2 futureStyle
    
    %% Labels
    class BASIC,DEPLOY,PYTEST,HTTP,MANUAL implementedStyle

%% Phase 1 Success Criteria
subgraph "Phase 1 Success Metrics"
    SUCCESS[âœ… All 4 services deployed<br/>âœ… CI/CD pipeline working<br/>âœ… >70% test coverage<br/>âœ… <3s response time<br/>âœ… Health monitoring active<br/>ğŸ”„ One vertical slice complete]
end

SUCCESS --> E2E1