graph TB
    %% Milvus Vector Database Collections - Actually Implemented
    %% SportsBrain Fantasy Basketball Platform
    
    subgraph "Milvus Vector Database"
        subgraph "sportsbrain_players Collection"
            PC[sportsbrain_players<br/>572 embeddings]
            PC_FIELDS[Fields:<br/>- id: int64 PK<br/>- name: varchar<br/>- vector: float_vector 768d<br/>- metadata: json]
            PC_META[Metadata Contains:<br/>- position<br/>- team<br/>- stats PPG/RPG/APG<br/>- fantasy_ppg<br/>- injury_risk]
            PC_INDEX[Index: IVF_FLAT<br/>Similarity: IP - Inner Product<br/>nlist: 128]
            
            PC --> PC_FIELDS
            PC --> PC_META
            PC --> PC_INDEX
        end
        
        subgraph "sportsbrain_strategies Collection"
            SC[sportsbrain_strategies<br/>230 documents]
            SC_FIELDS[Fields:<br/>- id: int64 PK<br/>- title: varchar<br/>- vector: float_vector 768d<br/>- text: text<br/>- metadata: json]
            SC_META[Metadata Contains:<br/>- strategy_type<br/>- categories<br/>- difficulty_level<br/>- target_rounds]
            SC_INDEX[Index: IVF_FLAT<br/>Similarity: IP - Inner Product<br/>nlist: 64]
            
            SC --> SC_FIELDS
            SC --> SC_META
            SC --> SC_INDEX
        end
        
        subgraph "sportsbrain_trades Collection"
            TC[sportsbrain_trades<br/>205 trade analyses]
            TC_FIELDS[Fields:<br/>- id: int64 PK<br/>- title: varchar<br/>- vector: float_vector 768d<br/>- text: text<br/>- metadata: json]
            TC_META[Metadata Contains:<br/>- players_involved<br/>- teams<br/>- trade_date<br/>- impact_analysis<br/>- fantasy_implications]
            TC_INDEX[Index: IVF_FLAT<br/>Similarity: IP - Inner Product<br/>nlist: 64]
            
            TC --> TC_FIELDS
            TC --> TC_META
            TC --> TC_INDEX
        end
    end
    
    subgraph "Embedding Generation"
        EMBED[SentenceTransformer<br/>'all-mpnet-base-v2'<br/>768 dimensions]
        
        RAW_PLAYER[Player Names & Stats] --> EMBED
        RAW_STRATEGY[Strategy Documents] --> EMBED
        RAW_TRADE[Trade Analyses] --> EMBED
        
        EMBED --> PC
        EMBED --> SC
        EMBED --> TC
    end
    
    subgraph "Usage Patterns"
        AGENT[LangChain Agents] --> |Initial Search - top 20| PC
        AGENT --> |Strategy Retrieval - top 20| SC
        AGENT --> |Trade Impact Analysis - top 20| TC
        
        RERANKER[BGE Reranker<br/>BAAI/bge-reranker-large<br/>Cross-encodes query with results<br/>Returns top 5 most relevant]
        
        PC --> |20 candidates| RERANKER
        SC --> |20 candidates| RERANKER
        TC --> |20 candidates| RERANKER
        
        RERANKER --> |5 reranked results| AGENT
        
        SEARCH_PARAMS[Search Parameters:<br/>- Initial: top k is 20<br/>- After reranking: top k is 5<br/>- metric: IP - Inner Product<br/>- filter: metadata conditions]
        
        AGENT --> SEARCH_PARAMS
    end
    
    %% Statistics
    NOTE[Total Embeddings: 1,007<br/>Exceeds requirement: 1,000+<br/>Dimension: 768<br/>Cloud Host: Zilliz]
    
    style PC fill:#e1f5fe
    style SC fill:#fff3e0
    style TC fill:#f3e5f5
    style EMBED fill:#c8e6c9
    style NOTE fill:#ffecb3
    style RERANKER fill:#fff176